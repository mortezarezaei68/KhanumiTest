2021-04-12 23:25:45.806 +04:30 [INF] User profile is available. Using '/home/morteza/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-04-12 23:25:46.507 +04:30 [INF] Entity Framework Core 5.0.3 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: CommandTimeout=120 
2021-04-12 23:25:46.799 +04:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT 1
2021-04-12 23:25:46.817 +04:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-04-12 23:25:46.820 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT 1
2021-04-12 23:25:46.823 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-04-12 23:25:46.830 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-04-12 23:25:46.840 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-04-12 23:25:47.040 +04:30 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='120']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[IsDeleted], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[NormalizedName] = @__normalizedName_0)
2021-04-12 23:25:47.084 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='120']
SELECT TOP(1) [g].[Id], [g].[CreatedAt], [g].[CreatedBy], [g].[DeletedAt], [g].[IsDeleted], [g].[Name], [g].[UpdatedAt], [g].[UpdatedBy]
FROM [Genders] AS [g]
WHERE [g].[Name] = @__name_0
2021-04-12 23:25:47.103 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='120']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Birthday], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[GenderId], [a].[IsDeleted], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[SubjectId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2021-04-12 23:25:47.314 +04:30 [WRN] Unable to bind to https://localhost:5001 on the IPv6 loopback interface: 'Cannot assign requested address'.
2021-04-12 23:25:47.317 +04:30 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'Cannot assign requested address'.
2021-04-12 23:25:47.319 +04:30 [INF] Now listening on: https://localhost:5001
2021-04-12 23:25:47.320 +04:30 [INF] Now listening on: http://localhost:5000
2021-04-12 23:25:47.322 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-12 23:25:47.323 +04:30 [INF] Hosting environment: Development
2021-04-12 23:25:47.325 +04:30 [INF] Content root path: /media/morteza/6b53ded8-ff21-4348-afd5-962880213bc4/FilmnetProject/src/UserManagement/Presentation/UserManagement.Service
2021-04-12 23:25:47.699 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-04-12 23:25:47.783 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 404 0 - 84.3795ms
2021-04-12 23:25:51.370 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - -
2021-04-12 23:25:51.373 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - - - 301 0 - 3.7768ms
2021-04-12 23:25:51.379 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-04-12 23:25:51.415 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 36.2602ms
2021-04-12 23:25:51.435 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-04-12 23:25:51.435 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - -
2021-04-12 23:25:51.436 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - -
2021-04-12 23:25:51.544 +04:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-04-12 23:25:51.544 +04:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-04-12 23:25:51.546 +04:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-04-12 23:25:51.551 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - - - 200 974176 application/javascript 116.4082ms
2021-04-12 23:25:51.551 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 200 141841 text/css 116.5566ms
2021-04-12 23:25:51.551 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - - - 200 307021 application/javascript 115.0110ms
2021-04-12 23:25:51.664 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-04-12 23:25:51.672 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - -
2021-04-12 23:25:51.674 +04:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-04-12 23:25:51.676 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - - - 200 628 image/png 3.8573ms
2021-04-12 23:25:51.724 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 60.5056ms
2021-04-12 23:26:38.938 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/User/LoginUser application/json-patch+json 58
2021-04-12 23:26:38.951 +04:30 [INF] CORS policy execution successful.
2021-04-12 23:26:38.954 +04:30 [INF] Executing endpoint 'UserManagement.Service.Controllers.UserController.GetToken (UserManagement.Service)'
2021-04-12 23:26:38.975 +04:30 [INF] Route matched with {action = "GetToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetToken(ServiceContract.Command.AdminUserCommands.LoginAdminUserCommandRequest) on controller UserManagement.Service.Controllers.UserController (UserManagement.Service).
2021-04-12 23:26:39.061 +04:30 [INF] Entity Framework Core 5.0.3 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: CommandTimeout=120 
2021-04-12 23:26:39.074 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='120']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Birthday], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[GenderId], [a].[IsDeleted], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[SubjectId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2021-04-12 23:26:39.138 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='120']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[IsDeleted] <> CAST(1 AS bit)
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-12 23:26:39.242 +04:30 [INF] Executed DbCommand (9ms) [Parameters=[@__request_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='120']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[Birthday], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[GenderId], [t].[IsDeleted], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[SubjectId], [t].[TwoFactorEnabled], [t].[UserName], [t].[UserType], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[Expired], [p].[IpAddress], [p].[IsDeleted], [p].[IsRevoke], [p].[RefreshToken], [p].[RevokedAt], [p].[SubjectId], [p].[UpdatedAt], [p].[UpdatedBy], [p].[UserId], [p].[UserType]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Birthday], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[GenderId], [a].[IsDeleted], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[SubjectId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
    FROM [AspNetUsers] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[Id] = @__request_UserId_0)
) AS [t]
LEFT JOIN [PersistGrants] AS [p] ON [t].[Id] = [p].[UserId]
ORDER BY [t].[Id], [p].[Id]
2021-04-12 23:26:39.295 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='120']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Birthday], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[GenderId], [a].[IsDeleted], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[SubjectId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2021-04-12 23:26:39.410 +04:30 [INF] Executed DbCommand (4ms) [Parameters=[@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p22='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Guid), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p20='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [Birthday] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [GenderId] = @p6, [IsDeleted] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [SubjectId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19, [UserType] = @p20
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
SELECT @@ROWCOUNT;
2021-04-12 23:26:39.416 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
UPDATE [PersistGrants] SET [IsRevoke] = @p0, [RevokedAt] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-04-12 23:26:39.424 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='120']
SET NOCOUNT ON;
INSERT INTO [PersistGrants] ([CreatedAt], [CreatedBy], [DeletedAt], [Expired], [IpAddress], [IsDeleted], [IsRevoke], [RefreshToken], [RevokedAt], [SubjectId], [UpdatedAt], [UpdatedBy], [UserId], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT [Id]
FROM [PersistGrants]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-04-12 23:26:39.473 +04:30 [INF] Executing JsonResult, writing value of type 'ServiceContract.Command.AdminUserCommands.LoginAdminUserCommandResponse'.
2021-04-12 23:26:39.498 +04:30 [INF] Executed action UserManagement.Service.Controllers.UserController.GetToken (UserManagement.Service) in 518.5212ms
2021-04-12 23:26:39.501 +04:30 [INF] Executed endpoint 'UserManagement.Service.Controllers.UserController.GetToken (UserManagement.Service)'
2021-04-12 23:26:39.503 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/User/LoginUser application/json-patch+json 58 - 200 - application/json;+charset=utf-8 565.0612ms
2021-04-12 23:26:42.105 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-04-12 23:26:42.109 +04:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-04-12 23:26:42.112 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 200 141841 text/css 8.1154ms
2021-04-12 23:26:42.130 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js.map - -
2021-04-12 23:26:42.131 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js.map - -
2021-04-12 23:26:42.154 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css.map - -
2021-04-12 23:26:42.188 +04:30 [INF] Successfully validated the token.
2021-04-12 23:26:42.188 +04:30 [INF] Successfully validated the token.
2021-04-12 23:26:42.188 +04:30 [INF] Successfully validated the token.
2021-04-12 23:26:42.195 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css.map - - - 404 0 - 40.9477ms
2021-04-12 23:26:42.195 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js.map - - - 404 0 - 65.0105ms
2021-04-12 23:26:42.195 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js.map - - - 404 0 - 65.3055ms
2021-04-12 23:45:55.746 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - -
2021-04-12 23:45:55.749 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - - - 301 0 - 25.9781ms
2021-04-12 23:45:55.751 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-04-12 23:45:55.754 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 2.6923ms
2021-04-12 23:45:55.772 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-04-12 23:45:55.775 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - -
2021-04-12 23:45:55.775 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - -
2021-04-12 23:45:55.778 +04:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-04-12 23:45:55.851 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 200 141841 text/css 79.1680ms
2021-04-12 23:45:55.875 +04:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-04-12 23:45:55.879 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - - - 200 307021 application/javascript 103.8868ms
2021-04-12 23:45:55.882 +04:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-04-12 23:45:55.884 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - - - 200 974176 application/javascript 109.8033ms
2021-04-12 23:45:56.037 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-04-12 23:45:56.044 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 27.3927ms
